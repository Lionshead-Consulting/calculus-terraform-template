{
  "provider": {
    "aws": {
      "region": "${var.region}"
    }
  },
  "resource": [
    {
      "aws_lambda_function": {
        "calculus_generated_function": {
          "function_name": "%FunctionName%",
          "role": "${var.role}",
          "runtime": "nodejs6.10",
          "s3_bucket": "%Bucket%",
          "s3_key": "%FunctionName%.zip",
          "source_code_hash":"${base64sha256(file(\"../%FunctionName%.zip\"))}",
          "handler": "index.handler",
          "publish": true,
          "memory_size": "${var.memory_size}",
          "timeout": "${var.timeout}",
          "environment": {
            "variables": {
              "NODE_ENV": "%NODE_ENV%"
            }
          }
        }
      }
    }
  ]
}
